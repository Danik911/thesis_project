{
  "fix_session_id": "phoenix_fix_1754148121",
  "timestamp": 1754148121.6100464,
  "datetime": "2025-08-02T16:22:01.610590",
  "phases": {
    "environment": {
      "script": "C:\\Users\\anteb\\Desktop\\Courses\\Projects\\thesis_project\\fix_phoenix_environment.py",
      "description": "Phase 1: Environment and Dependency Fixes",
      "duration_seconds": 23.985173225402832,
      "return_code": 1,
      "success": false,
      "stdout": "\\n============================================================\n",
      "stderr": "2025-08-02 16:22:02,785 - INFO - \\U0001f680 Starting Phoenix Environment Fixes\n2025-08-02 16:22:02,788 - INFO - ============================================================\n2025-08-02 16:22:02,788 - INFO - \\U0001f50d Checking current environment...\n2025-08-02 16:22:02,788 - INFO - Python executable: C:\\Users\\anteb\\Desktop\\Courses\\Projects\\thesis_project\\.venv\\Scripts\\python.exe\n2025-08-02 16:22:02,788 - INFO - Python version: 3.12.10 (main, Apr  9 2025, 04:06:22) [MSC v.1943 64 bit (AMD64)]\n2025-08-02 16:22:04,793 - INFO - \\U0001f4cb Ensuring phoenix working directory: C:\\Users\\anteb\\.phoenix\n2025-08-02 16:22:04,940 - INFO - Dataset: phoenix_inferences_00c6cd5a-0e32-4c98-b3c0-2e3b8f984904 initialized\n2025-08-02 16:22:14,120 - INFO - phoenix: 11.10.1 at C:\\Users\\anteb\\Desktop\\Courses\\Projects\\thesis_project\\.venv\\Lib\\site-packages\\phoenix\\__init__.py\n2025-08-02 16:22:14,120 - INFO - numpy: 2.3.2 at C:\\Users\\anteb\\Desktop\\Courses\\Projects\\thesis_project\\.venv\\Lib\\site-packages\\numpy\\__init__.py\n2025-08-02 16:22:14,120 - INFO - opentelemetry: unknown at None\n2025-08-02 16:22:14,120 - INFO - requests: 2.32.4 at C:\\Users\\anteb\\Desktop\\Courses\\Projects\\thesis_project\\.venv\\Lib\\site-packages\\requests\\__init__.py\n2025-08-02 16:22:14,121 - INFO - llama_index: unknown at None\n2025-08-02 16:22:14,702 - INFO - openai: 1.97.1 at C:\\Users\\anteb\\Desktop\\Courses\\Projects\\thesis_project\\.venv\\Lib\\site-packages\\openai\\__init__.py\n2025-08-02 16:22:14,703 - INFO - \\n\\U0001f527 Fix NumPy compatibility...\n2025-08-02 16:22:14,703 - INFO - \\U0001f527 Fixing NumPy compatibility...\n2025-08-02 16:22:14,703 - INFO - Current NumPy version: 2.3.2\n2025-08-02 16:22:14,703 - WARNING - NumPy 2.x detected - downgrading for Phoenix compatibility\n2025-08-02 16:22:14,703 - INFO - \\U0001f527 Downgrade NumPy to <2.0 for Phoenix compatibility\n2025-08-02 16:22:14,703 - INFO -    Command: uv add numpy<2.0 --resolution=highest\n2025-08-02 16:22:19,981 - INFO - \\u2705 Downgrade NumPy to <2.0 for Phoenix compatibility - SUCCESS\n2025-08-02 16:22:19,983 - INFO - \\u2705 Fix NumPy compatibility completed successfully\n2025-08-02 16:22:19,983 - INFO - \\n\\U0001f527 Install Phoenix dependencies...\n2025-08-02 16:22:19,983 - INFO - \\U0001f527 Installing Phoenix dependencies...\n2025-08-02 16:22:19,983 - INFO - \\U0001f527 Install Arize Phoenix\n2025-08-02 16:22:19,983 - INFO -    Command: uv add arize-phoenix\n2025-08-02 16:22:20,086 - INFO - \\u2705 Install Arize Phoenix - SUCCESS\n2025-08-02 16:22:20,087 - INFO - \\U0001f527 Install OpenTelemetry API\n2025-08-02 16:22:20,087 - INFO -    Command: uv add opentelemetry-api\n2025-08-02 16:22:23,903 - INFO - \\u2705 Install OpenTelemetry API - SUCCESS\n2025-08-02 16:22:23,904 - INFO - \\U0001f527 Install OpenTelemetry SDK\n2025-08-02 16:22:23,904 - INFO -    Command: uv add opentelemetry-sdk\n2025-08-02 16:22:24,024 - INFO - \\u2705 Install OpenTelemetry SDK - SUCCESS\n2025-08-02 16:22:24,024 - INFO - \\U0001f527 Install OTLP Exporter\n2025-08-02 16:22:24,024 - INFO -    Command: uv add opentelemetry-exporter-otlp\n2025-08-02 16:22:24,138 - INFO - \\u2705 Install OTLP Exporter - SUCCESS\n2025-08-02 16:22:24,139 - INFO - \\U0001f527 Install LlamaIndex Instrumentation\n2025-08-02 16:22:24,139 - INFO -    Command: uv add openinference-instrumentation-llama-index\n2025-08-02 16:22:24,250 - INFO - \\u2705 Install LlamaIndex Instrumentation - SUCCESS\n2025-08-02 16:22:24,251 - INFO - \\U0001f527 Install OpenAI Instrumentation\n2025-08-02 16:22:24,251 - INFO -    Command: uv add openinference-instrumentation-openai\n2025-08-02 16:22:24,381 - INFO - \\u2705 Install OpenAI Instrumentation - SUCCESS\n2025-08-02 16:22:24,381 - INFO - \\U0001f527 Install Requests library\n2025-08-02 16:22:24,381 - INFO -    Command: uv add requests\n2025-08-02 16:22:24,506 - INFO - \\u2705 Install Requests library - SUCCESS\n2025-08-02 16:22:24,507 - INFO - \\u2705 Install Phoenix dependencies completed successfully\n2025-08-02 16:22:24,507 - INFO - \\n\\U0001f527 Sync environment...\n2025-08-02 16:22:24,507 - INFO - \\U0001f527 Syncing environment...\n2025-08-02 16:22:24,507 - INFO - \\U0001f527 Sync UV environment\n2025-08-02 16:22:24,507 - INFO -    Command: uv sync\n2025-08-02 16:22:24,615 - INFO - \\u2705 Sync UV environment - SUCCESS\n2025-08-02 16:22:24,615 - INFO - \\u2705 Sync environment completed successfully\n2025-08-02 16:22:24,615 - INFO - \\n\\U0001f527 Test Phoenix import...\n2025-08-02 16:22:24,615 - INFO - \\U0001f9ea Testing Phoenix import...\n2025-08-02 16:22:24,615 - INFO - \\u2705 Phoenix imported successfully - version: 11.10.1\n2025-08-02 16:22:24,615 - INFO - \\u2705 OpenTelemetry components imported successfully\n2025-08-02 16:22:24,615 - INFO - \\u2705 Test Phoenix import completed successfully\n2025-08-02 16:22:24,617 - INFO - \\n\\U0001f527 Create validation script...\n2025-08-02 16:22:24,620 - ERROR - \\u274c Create validation script failed with exception: 'charmap' codec can't encode character '\\u2705' in position 266: character maps to <undefined>\n2025-08-02 16:22:24,620 - INFO - ============================================================\n2025-08-02 16:22:24,620 - INFO - \\U0001f3c1 Environment fixes complete: 4/5 successful\n2025-08-02 16:22:24,620 - ERROR - \\u274c Some environment fixes failed - check logs above\n2025-08-02 16:22:24,621 - INFO - \\U0001f4ca Fix results saved to: phoenix_environment_fix_results.json\nTraceback (most recent call last):\n  File \"C:\\Users\\anteb\\Desktop\\Courses\\Projects\\thesis_project\\fix_phoenix_environment.py\", line 391, in <module>\n    success = main()\n              ^^^^^^\n  File \"C:\\Users\\anteb\\Desktop\\Courses\\Projects\\thesis_project\\fix_phoenix_environment.py\", line 364, in main\n    print(\"\\U0001f4cb ENVIRONMENT FIX SUMMARY\")\n  File \"C:\\Users\\anteb\\AppData\\Roaming\\uv\\python\\cpython-3.12.10-windows-x86_64-none\\Lib\\encodings\\cp1252.py\", line 19, in encode\n    return codecs.charmap_encode(input,self.errors,encoding_table)[0]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nUnicodeEncodeError: 'charmap' codec can't encode character '\\U0001f4cb' in position 0: character maps to <undefined>\n"
    },
    "diagnostic": {
      "script": "C:\\Users\\anteb\\Desktop\\Courses\\Projects\\thesis_project\\main\\debug_phoenix_comprehensive.py",
      "description": "Phase 2: Comprehensive Diagnostic Analysis",
      "duration_seconds": 43.34050369262695,
      "return_code": 1,
      "success": false,
      "stdout": "\n============================================================\n",
      "stderr": "2025-08-02 16:22:34,384 - INFO - \\U0001f4cb Ensuring phoenix working directory: C:\\Users\\anteb\\.phoenix\n2025-08-02 16:22:34,485 - INFO - Dataset: phoenix_inferences_3fbc7e43-02ea-403c-9670-a49cc0474916 initialized\n2025-08-02 16:22:46,692 - INFO - \\U0001f680 Starting Comprehensive Phoenix Diagnostic Tests\n2025-08-02 16:22:46,692 - INFO - ============================================================\n2025-08-02 16:22:46,692 - INFO - Testing Basic HTTP Connectivity...\n2025-08-02 16:22:48,782 - INFO - \\u2705 Basic HTTP Connectivity successful\n2025-08-02 16:22:48,782 - INFO - Testing GraphQL Endpoint Connectivity...\n2025-08-02 16:22:50,917 - INFO - \\u2705 GraphQL Endpoint Connectivity successful\n2025-08-02 16:22:50,917 - INFO - Testing GraphQL: Projects Query...\n2025-08-02 16:22:52,977 - ERROR - \\u274c Projects Query GraphQL errors: [{'message': 'an unexpected error occurred', 'locations': [{'line': 1, 'column': 14}]}, {'message': 'an unexpected error occurred', 'locations': [{'line': 1, 'column': 17}]}]\n2025-08-02 16:22:52,977 - INFO - Testing GraphQL: Spans Query...\n2025-08-02 16:22:55,035 - ERROR - \\u274c Spans Query GraphQL errors: [{'message': 'an unexpected error occurred', 'locations': [{'line': 1, 'column': 3}]}]\n2025-08-02 16:22:55,035 - INFO - Testing GraphQL: Traces Query...\n2025-08-02 16:22:57,078 - ERROR - \\u274c Traces Query GraphQL errors: [{'message': 'an unexpected error occurred', 'locations': [{'line': 1, 'column': 3}]}]\n2025-08-02 16:22:57,079 - INFO - Testing OTLP Traces Endpoint...\n2025-08-02 16:22:59,125 - INFO - \\u2705 OTLP Traces Endpoint accessible (status: 200)\n2025-08-02 16:22:59,126 - INFO - Testing Trace Generation and Export...\n2025-08-02 16:22:59,254 - INFO - Forcing trace export...\n2025-08-02 16:23:03,300 - INFO - \\u2705 Trace Generation and Export successful - traces exported\n2025-08-02 16:23:03,300 - INFO - Testing Phoenix Data Retrieval Verification...\n2025-08-02 16:23:08,345 - ERROR - GraphQL errors: [{'message': 'an unexpected error occurred', 'locations': [{'line': 3, 'column': 17}]}]\n2025-08-02 16:23:08,345 - ERROR - \\u274c Phoenix Data Retrieval Verification failed - data not accessible\n2025-08-02 16:23:08,345 - INFO - ============================================================\n2025-08-02 16:23:08,345 - INFO - \\U0001f3c1 Diagnostic Complete: 4/6 tests passed\n2025-08-02 16:23:08,345 - ERROR - \\u274c Critical Phoenix issues detected - see recommendations\n2025-08-02 16:23:08,347 - INFO - \\U0001f4ca Diagnostic results saved to: phoenix_comprehensive_diagnostic_20250802_162308.json\nTraceback (most recent call last):\n  File \"C:\\Users\\anteb\\Desktop\\Courses\\Projects\\thesis_project\\main\\debug_phoenix_comprehensive.py\", line 541, in <module>\n    success = main()\n              ^^^^^^\n  File \"C:\\Users\\anteb\\Desktop\\Courses\\Projects\\thesis_project\\main\\debug_phoenix_comprehensive.py\", line 519, in main\n    print(\"\\U0001f4cb DIAGNOSTIC SUMMARY\")\n  File \"C:\\Users\\anteb\\AppData\\Roaming\\uv\\python\\cpython-3.12.10-windows-x86_64-none\\Lib\\encodings\\cp1252.py\", line 19, in encode\n    return codecs.charmap_encode(input,self.errors,encoding_table)[0]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nUnicodeEncodeError: 'charmap' codec can't encode character '\\U0001f4cb' in position 0: character maps to <undefined>\n"
    },
    "graphql": {
      "script": "C:\\Users\\anteb\\Desktop\\Courses\\Projects\\thesis_project\\fix_phoenix_graphql.py",
      "description": "Phase 3: GraphQL API Repair",
      "duration_seconds": 24.374003410339355,
      "return_code": 1,
      "success": false,
      "stdout": "\\n============================================================\n",
      "stderr": "2025-08-02 16:23:09,810 - INFO - \\U0001f680 Starting Phoenix GraphQL Fixes\n2025-08-02 16:23:09,810 - INFO - ============================================================\n2025-08-02 16:23:09,810 - INFO - \\n\\U0001f527 Check Phoenix server status...\n2025-08-02 16:23:09,810 - INFO - \\U0001f50d Checking Phoenix server status...\n2025-08-02 16:23:11,879 - INFO - \\u2705 Phoenix server running - version: 11.10.1\n2025-08-02 16:23:11,880 - INFO - \\u2705 Check Phoenix server status completed successfully\n2025-08-02 16:23:11,880 - INFO - \\n\\U0001f527 Test GraphQL schema access...\n2025-08-02 16:23:11,880 - INFO - \\U0001f50d Testing GraphQL schema access...\n2025-08-02 16:23:13,920 - INFO - \\u2705 GraphQL schema accessible\n2025-08-02 16:23:13,920 - INFO - \\u2705 Test GraphQL schema access completed successfully\n2025-08-02 16:23:13,920 - INFO - \\n\\U0001f527 Test simple GraphQL queries...\n2025-08-02 16:23:13,920 - INFO - \\U0001f50d Testing simple GraphQL queries...\n2025-08-02 16:23:13,920 - INFO -    Testing: Version Query\n2025-08-02 16:23:15,992 - INFO -    \\u2705 Version Query successful\n2025-08-02 16:23:15,992 - INFO -    Testing: Projects Count\n2025-08-02 16:23:18,063 - ERROR -    \\u274c Projects Count GraphQL errors: [{'message': 'an unexpected error occurred', 'locations': [{'line': 1, 'column': 14}]}]\n2025-08-02 16:23:18,063 - INFO -    Testing: Basic Projects\n2025-08-02 16:23:24,023 - INFO -    \\u2705 Basic Projects successful\n2025-08-02 16:23:24,023 - INFO - Simple queries: 2/3 successful\n2025-08-02 16:23:24,023 - INFO - \\u2705 Test simple GraphQL queries completed successfully\n2025-08-02 16:23:24,023 - INFO - \\n\\U0001f527 Check Phoenix data integrity...\n2025-08-02 16:23:24,023 - INFO - \\U0001f50d Checking Phoenix data integrity...\n2025-08-02 16:23:24,023 - INFO -    Found Phoenix data directory: C:\\Users\\anteb\\.phoenix\n2025-08-02 16:23:24,024 - INFO -    Found 1 database files\n2025-08-02 16:23:24,024 - INFO -    phoenix.db: 2391101440 bytes\n2025-08-02 16:23:24,024 - INFO - \\u2705 Check Phoenix data integrity completed successfully\n2025-08-02 16:23:24,024 - INFO - \\n\\U0001f527 Create restart script...\n2025-08-02 16:23:24,025 - ERROR - \\u274c Create restart script failed with exception: 'charmap' codec can't encode character '\\U0001f504' in position 312: character maps to <undefined>\n2025-08-02 16:23:24,025 - INFO - \\U0001f50d Testing simple GraphQL queries...\n2025-08-02 16:23:24,025 - INFO -    Testing: Version Query\n2025-08-02 16:23:26,078 - INFO -    \\u2705 Version Query successful\n2025-08-02 16:23:26,078 - INFO -    Testing: Projects Count\n2025-08-02 16:23:28,128 - ERROR -    \\u274c Projects Count GraphQL errors: [{'message': 'an unexpected error occurred', 'locations': [{'line': 1, 'column': 14}]}]\n2025-08-02 16:23:28,128 - INFO -    Testing: Basic Projects\n2025-08-02 16:23:33,218 - INFO -    \\u2705 Basic Projects successful\n2025-08-02 16:23:33,219 - INFO - Simple queries: 2/3 successful\n2025-08-02 16:23:33,219 - INFO - \\u2705 GraphQL API is now functional!\n2025-08-02 16:23:33,219 - INFO - ============================================================\n2025-08-02 16:23:33,219 - INFO - \\U0001f3c1 GraphQL fixes complete: 4/5 successful\n2025-08-02 16:23:33,220 - INFO - \\U0001f4ca GraphQL fix results saved to: phoenix_graphql_fix_results.json\nTraceback (most recent call last):\n  File \"C:\\Users\\anteb\\Desktop\\Courses\\Projects\\thesis_project\\fix_phoenix_graphql.py\", line 548, in <module>\n    success = main()\n              ^^^^^^\n  File \"C:\\Users\\anteb\\Desktop\\Courses\\Projects\\thesis_project\\fix_phoenix_graphql.py\", line 518, in main\n    print(\"\\U0001f4cb GRAPHQL FIX SUMMARY\")\n  File \"C:\\Users\\anteb\\AppData\\Roaming\\uv\\python\\cpython-3.12.10-windows-x86_64-none\\Lib\\encodings\\cp1252.py\", line 19, in encode\n    return codecs.charmap_encode(input,self.errors,encoding_table)[0]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nUnicodeEncodeError: 'charmap' codec can't encode character '\\U0001f4cb' in position 0: character maps to <undefined>\n"
    },
    "end_to_end": {
      "script": "C:\\Users\\anteb\\Desktop\\Courses\\Projects\\thesis_project\\test_phoenix_end_to_end.py",
      "description": "Phase 4: End-to-End Validation Test",
      "duration_seconds": 15.410904884338379,
      "return_code": 1,
      "success": false,
      "stdout": "\\n============================================================\n",
      "stderr": "2025-08-02 16:23:34,856 - INFO - \\U0001f680 Starting Phoenix End-to-End Test\n2025-08-02 16:23:34,856 - INFO - ============================================================\n2025-08-02 16:23:34,856 - INFO - Test Session ID: e2e_test_1754148214\n2025-08-02 16:23:34,856 - INFO - Phoenix URL: http://localhost:6006\n2025-08-02 16:23:34,856 - INFO - ============================================================\n2025-08-02 16:23:34,856 - INFO - \\n\\U0001f527 Setup OpenTelemetry...\n2025-08-02 16:23:34,856 - INFO - \\U0001f527 Setting up OpenTelemetry with Phoenix...\n2025-08-02 16:23:34,881 - INFO - \\u2705 OpenTelemetry configured successfully\n2025-08-02 16:23:34,881 - INFO - \\u2705 Setup OpenTelemetry successful\n2025-08-02 16:23:34,881 - INFO - \\n\\U0001f527 Generate workflow traces...\n2025-08-02 16:23:34,881 - INFO - \\U0001f9ea Generating pharmaceutical workflow traces...\n2025-08-02 16:23:35,639 - INFO - \\U0001f680 Flushing traces to Phoenix...\n2025-08-02 16:23:37,439 - INFO - \\u2705 Generated and exported 9 traces successfully\n2025-08-02 16:23:37,439 - INFO - \\u23f3 Waiting for Phoenix to process traces...\n2025-08-02 16:23:42,441 - INFO - \\u2705 Generate workflow traces successful\n2025-08-02 16:23:42,441 - INFO - \\n\\U0001f527 Verify traces in Phoenix...\n2025-08-02 16:23:42,441 - INFO - \\U0001f50d Verifying traces in Phoenix...\n2025-08-02 16:23:44,494 - ERROR - \\u274c GraphQL errors: [{'message': 'an unexpected error occurred', 'locations': [{'line': 3, 'column': 17}]}]\n2025-08-02 16:23:44,495 - ERROR - \\u274c Verify traces in Phoenix failed\n2025-08-02 16:23:44,495 - INFO - \\n\\U0001f527 Test enhanced observability...\n2025-08-02 16:23:44,495 - INFO - \\U0001f52c Testing enhanced observability features...\n2025-08-02 16:23:48,613 - WARNING - \\u26a0\\ufe0f Enhanced observability features not fully functional\n2025-08-02 16:23:48,613 - ERROR - \\u274c Test enhanced observability failed\n2025-08-02 16:23:48,613 - INFO - ============================================================\n2025-08-02 16:23:48,613 - INFO - \\U0001f3c1 End-to-end test complete: 2/4 steps successful\n2025-08-02 16:23:48,613 - ERROR - \\u274c Phoenix observability has critical issues\n2025-08-02 16:23:48,613 - INFO - \\U0001f9f9 Cleaning up resources...\n2025-08-02 16:23:48,613 - INFO - \\u2705 OpenTelemetry cleanup completed\n2025-08-02 16:23:48,614 - INFO - \\U0001f4ca Test results saved to: phoenix_e2e_test_results_20250802_162348.json\nTraceback (most recent call last):\n  File \"C:\\Users\\anteb\\Desktop\\Courses\\Projects\\thesis_project\\test_phoenix_end_to_end.py\", line 563, in <module>\n    success = main()\n              ^^^^^^\n  File \"C:\\Users\\anteb\\Desktop\\Courses\\Projects\\thesis_project\\test_phoenix_end_to_end.py\", line 524, in main\n    print(\"\\U0001f4cb END-TO-END TEST SUMMARY\")\n  File \"C:\\Users\\anteb\\AppData\\Roaming\\uv\\python\\cpython-3.12.10-windows-x86_64-none\\Lib\\encodings\\cp1252.py\", line 19, in encode\n    return codecs.charmap_encode(input,self.errors,encoding_table)[0]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nUnicodeEncodeError: 'charmap' codec can't encode character '\\U0001f4cb' in position 0: character maps to <undefined>\n"
    }
  },
  "overall_success": false,
  "recommendations": [
    "\ud83d\udea8 CRITICAL: Environment fixes failed",
    "   \u2022 Manually install missing packages",
    "   \u2022 Check Python version compatibility",
    "   \u2022 Verify UV package manager is working",
    "\u26a0\ufe0f Diagnostic analysis incomplete",
    "   \u2022 Review diagnostic logs for specific issues",
    "   \u2022 Check Phoenix server health manually",
    "\u26a0\ufe0f GraphQL API issues detected",
    "   \u2022 Restart Phoenix server manually",
    "   \u2022 Check Phoenix version compatibility",
    "   \u2022 Consider Phoenix version downgrade",
    "\ud83d\udea8 CRITICAL: End-to-end test failed",
    "   \u2022 Phoenix may not be receiving traces",
    "   \u2022 GraphQL API may still be broken",
    "   \u2022 Manual investigation required",
    "",
    "\ud83d\udccb Next Steps:",
    "   \u2022 Test with actual workflow: python main/main.py",
    "   \u2022 Monitor Phoenix UI: http://localhost:6006",
    "   \u2022 Check compliance dashboard generation",
    "   \u2022 Verify audit trail completeness"
  ],
  "successful_phases": 0,
  "total_phases": 4,
  "critical_failure": true
}